@{
    Layout = "~/Views/Shared/_ConsumerNavbarLayout.cshtml";
    ViewData["Title"] = "Bengal Shop - Products";
}

<div class="container">
    <!-- All Products Section -->
    <section class="all-products">
        <div class="section-header">
            <h2 class="section-title">All Products</h2>
        </div>

        <div class="filter-container">
            <div class="filter-section">
                <div class="filter-group">
                    <label for="category-filter">Category:</label>
                    <select id="category-filter" class="filter-select">
                        <option value="all">All Categories</option>
                        <option value="fruits">Fresh Fruits</option>
                        <option value="vegetables">Fresh Vegetables</option>
                        <option value="dairy">Dairy & Eggs</option>
                        <option value="meat">Meat & Seafood</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="price-filter">Price Range:</label>
                    <select id="price-filter" class="filter-select">
                        <option value="all">All Prices</option>
                        <option value="under-100">Under $100</option>
                        <option value="100-200">$100 - $200</option>
                        <option value="200-300">$200 - $300</option>
                        <option value="over-300">Over $300</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="sort-by">Sort By:</label>
                    <select id="sort-by" class="filter-select">
                        <option value="popularity">Popularity</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="newest">Newest First</option>
                    </select>
                </div>
            </div>
            <button class="filter-button">Apply Filters</button>
        </div>

        <div class="products-grid large-grid">
            <!-- Content will be dynamically loaded -->
            @for (int i = 1; i <= 12; i++)
            {
                <div class="product-card">
                    <div class="product-img">
                        <img src="/images/product@(i % 5 + 1).png" alt="Product Name">
                        <div class="product-actions">
                            <button class="quick-view-btn">Quick View</button>
                            <button class="add-to-cart-btn">Add to Cart</button>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Product Name @i</h3>
                        <div class="product-rating">
                            <div class="stars">
                                <i class="star-filled">★</i>
                                <i class="star-filled">★</i>
                                <i class="star-filled">★</i>
                                <i class="star-filled">★</i>
                                <i class="star-empty">☆</i>
                            </div>
                            <span class="rating-count">(@(70 + i))</span>
                        </div>
                        <div class="product-price">
                            <span class="current-price">$@(180 + i * 10).00</span>
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="pagination">
            <a href="#" class="page-link active">1</a>
            <a href="#" class="page-link">2</a>
            <a href="#" class="page-link">3</a>
            <span class="page-dots">...</span>
            <a href="#" class="page-link">10</a>
            <a href="#" class="page-link next">Next →</a>
        </div>
    </section>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const productCards = document.querySelectorAll('.product-card');
        
        productCards.forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.querySelector('.product-actions').classList.add('show');
            });
            
            card.addEventListener('mouseleave', function() {
                this.querySelector('.product-actions').classList.remove('show');
            });
        });
        
        const filterButton = document.querySelector('.filter-button');
        
        filterButton.addEventListener('click', function() {
            const category = document.getElementById('category-filter').value;
            const priceRange = document.getElementById('price-filter').value;
            const sortBy = document.getElementById('sort-by').value;
            
            console.log('Filtering by:', {category, priceRange, sortBy});
            
            const allProducts = document.querySelectorAll('.all-products .product-card');
            allProducts.forEach(product => {
                product.style.opacity = '0.5';
                
                setTimeout(() => {
                    product.style.opacity = '1';
                }, 500);
            });
        });
    });
</script>