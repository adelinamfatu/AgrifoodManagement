@using Syncfusion.EJ2.Navigations

@{
    Layout = "_ConsumerLayout";
    var currentAction = ViewContext.RouteData.Values["action"]?.ToString() ?? "";
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString() ?? "";
}

<div class="top-header">
    <div class="app-title">Agri-<span>Food</span> Management</div>
    <div class="toolbar-right-items">
        <div class="toolbar-icon-item">
            <i class="bi bi-heart-fill" title="Favorites"></i>
            <div class="icon-badge">3</div>
        </div>
        <a asp-controller="Consumer" asp-action="Basket" class="toolbar-icon-item" style="position: relative;">
            <i class="bi bi-cart3" title="Cart"></i>
            <div class="icon-badge">@ViewBag.BasketCount</div>
        </a>
        <div class="avatar-container">
            <img src="/images/avatar-placeholder.png" alt="User Avatar" class="user-avatar" id="userAvatar">
            <div class="user-info">
                <div class="user-name">Ade</div>
                <div class="user-role">Consumer</div>
            </div>
        </div>
    </div>
</div>

<div class="main-nav-container">
    <div class="main-nav">
        <a asp-controller="Consumer" asp-action="Home" class="nav-link @(currentAction == "Home" ? "active" : "")">Home</a>
        <a asp-controller="Consumer" asp-action="Shop" class="nav-link @(currentAction == "Shop" ? "active" : "")">Shop</a>
        <a asp-controller="Consumer" asp-action="Locator" class="nav-link @(currentAction == "Locator" ? "active" : "")">Locator</a>
        <a asp-controller="Consumer" asp-action="History" class="nav-link @(currentAction == "History" ? "active" : "")">History</a>
        <a asp-controller="Consumer" asp-action="Loyalty" class="nav-link @(currentAction == "Loyalty" ? "active" : "")">Loyalty</a>
        <a asp-controller="Consumer" asp-action="Support" class="nav-link @(currentAction == "Support" ? "active" : "")">Support</a>
    </div>
</div>

@RenderBody()